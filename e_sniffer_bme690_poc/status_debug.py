import sys, traceback\n\nsys.path.insert(0, r'C:\\COINES_SDK_main\\coines-api\\pc\\python')\n\nfrom collector.runtime import build_backend, Metadata, RunConfig, CollectorRunner\nfrom collector.profiles import Profile\n\nprofile = Profile.from_dict({\n    'name': 'Debug Profile',\n    'version': 1,\n    'backend': 'coines',\n    'i2c_addr': '0x76',\n    'steps': [\n        {'temp_c': 180, 'ms': 150},\n        {'temp_c': 220, 'ms': 150}\n    ],\n    'cycle_target_sec': 1.0\n})\n\nprofile.validate()\nbackend = build_backend(profile)\nconfig = RunConfig(\n    profile=profile,\n    metadata=Metadata(sample_name='debug', specimen_id='S1', storage='other'),\n    duration_sec=5,\n    backend=backend,\n    profile_hash=profile.hash(),\n)\n\ndef cb(row):\n    print('status payload:', row)\nconfig.status_callback = cb\nrunner = CollectorRunner(config)\nrunner.run()
